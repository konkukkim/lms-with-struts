# LMS(학습관리시스템) 아키텍처 설계서

## 문서 정보
| 항목 | 내용 |
|------|------|
| 문서 제목 | LMS 시스템 아키텍처 설계서 |
| 시스템명 | 학습관리시스템(Learning Management System) |
| 문서 버전 | v1.0 |
| 작성일 | 2025-04-24 |
| 작성자 |  |

## 개정 이력
| 버전 | 날짜 | 설명 | 작성자 |
|------|------|------|--------|
| v0.1 | 2025-04-24 | 초안 작성 |  |

## 목차
1. [소개](#1-소개)
   1. [목적](#11-목적)
   2. [범위](#12-범위)
   3. [용어 정의](#13-용어-정의)
   4. [참조 문서](#14-참조-문서)
2. [포팅 때 할일](#2-아키텍처-개요)
   1. [jndi](#21-시스템-개요)
   2. [ docBase](#22-아키텍처-원칙)
   3. [framework.properties 위치 지정](#23-핵심-비즈니스-요구사항)
   4. [주요 기술 스택](#24-주요-기술-스택)
3. [시스템 아키텍처](#3-시스템-아키텍처)
   1. [전체 시스템 구조](#31-전체-시스템-구조)
   2. [계층 구조](#32-계층-구조)
   3. [배포 아키텍처](#33-배포-아키텍처)
   4. [데이터 아키텍처](#34-데이터-아키텍처)
4. [컴포넌트 설계](#4-컴포넌트-설계)
   1. [핵심 컴포넌트](#41-핵심-컴포넌트)
   2. [컴포넌트 간 인터페이스](#42-컴포넌트-간-인터페이스)
   3. [외부 시스템 연동](#43-외부-시스템-연동)
5. [품질 속성](#5-품질-속성)
   1. [성능](#51-성능)
   2. [확장성](#52-확장성)
   3. [보안](#53-보안)
   4. [가용성](#54-가용성)
   5. [유지보수성](#55-유지보수성)
6. [기술적 의사결정](#6-기술적-의사결정)
   1. [주요 의사결정](#61-주요-의사결정)
   2. [대안 및 평가](#62-대안-및-평가)
7. [제약사항 및 리스크](#7-제약사항-및-리스크)
   1. [기술적 제약사항](#71-기술적-제약사항)
   2. [비기술적 제약사항](#72-비기술적-제약사항)
   3. [식별된 리스크](#73-식별된-리스크)
8. [부록](#8-부록)
   1. [용어 사전](#81-용어-사전)
   2. [참고 자료](#82-참고-자료)

## 1. 소개

### 1.1 목적
본 문서는 LMS(학습관리시스템)의 운영매뉴얼입니다. 

### 1.2 범위
본 문서는 다음 항목을 포함합니다:
- 
### 1.3 용어 정의
- **LMS**: Learning Management System (학습관리시스템)
- **DWR**: Direct Web Remoting

### 1.4 참조 문서
- 

## 2. 포팅 때 할일

### 2.1 jndi
`framework.persist.dbpoolManager.JndiDataSource.jndiName=jdbc/mydb`

```xml
    <!-- MySQL 데이터베이스 설정 -->
    <Resource name="jdbc/mydb"
              auth="Container"
              type="javax.sql.DataSource"
              driverClassName="com.mysql.jdbc.Driver"
              factory="org.apache.tomcat.dbcp.dbcp2.BasicDataSourceFactory"
              url="jdbc:mysql://localhost:3306/junnodae"
              username="root"
              password="1234"
              maxTotal="50"
              maxIdle="20"
              maxWaitMillis="-1" />

( {CATALINA_HOME}/conf/context.xml )

```xml
    <resource-ref>
        <description>MySQL Database</description>
        <res-ref-name>jdbc/mydb</res-ref-name>
        <res-type>javax.sql.DataSource</res-type>
        <res-auth>Container</res-auth>
    </resource-ref>

( WEB-INF/web.xml)

### 2.2  docBase
'
      <Host name="localhost"  appBase="webapps"
            unpackWARs="true" autoDeploy="true">
        <Context path="" docBase="/www/html/junnodae" />
'
( {CATALINA_HOME}/conf/server.xml )

### 2.3 framework.properties 위치 지정
'#!/bin/sh
export CATALINA_OPTS="$CATALINA_OPTS -Dframework.home=/www/html/junnodae/WEB-INF"
'
( {CATALINA_HOME}/bin/setenv.sh )

### 2.4 주요 기술 스택
- **백엔드**:
  - 언어: Java
  - 웹 프레임워크: Struts
  - 비즈니스 로직: JavaBeans
  - AJAX 통신: DWR (Direct Web Remoting)
- **프론트엔드**:
  - JSP (JavaServer Pages)
  - JavaScript
  - HTML/CSS
- **데이터베이스**: MySQL 
- **웹 서버/WAS**: Apache Tomcat
- **빌드 도구**: Maven
- **버전 관리**: git (2025년 이전은 svn)

## 3. 시스템 아키텍처

### 3.1 전체 시스템 구조
LMS는 전통적인 서버-클라이언트 웹 아키텍처를 따르며, MVC(Model-View-Controller) 패턴을 기반으로 합니다. 주요 시스템 구성 요소는 다음과 같습니다:

1. **프레젠테이션 계층**: JSP, JavaScript를 통한 사용자 인터페이스 제공
2. **컨트롤러 계층**: Struts 프레임워크를 통한 사용자 요청 처리
3. **비즈니스 로직 계층**: JavaBeans를 통한 비즈니스 로직 구현
4. **데이터 액세스 계층**: DAO 패턴을 통한 데이터베이스 접근
5. **데이터베이스**: MySQL을 통한 데이터 저장 및 관리

### 3.2 계층 구조
시스템은 다음과 같은 계층으로 구성됩니다:

1. **프레젠테이션 계층**:
   - JSP 페이지: 사용자 인터페이스 구현
   - JavaScript: 클라이언트 측 유효성 검사 및 동적 기능
   - DWR: 비동기 통신을 통한 실시간 기능 구현

2. **컨트롤러 계층**:
   - Struts Action: 사용자 요청 처리 및 흐름 제어
   - Form Bean: 폼 데이터 관리

3. **비즈니스 로직 계층**:
   - Service 클래스: 핵심 비즈니스 로직 구현
   - DTO: 데이터 전송 객체

4. **데이터 액세스 계층**:
   - DAO: 데이터베이스 접근 로직
   - JDBC: 데이터베이스 연결 및 쿼리 실행

5. **데이터베이스 계층**:
   - MySQL 테이블 및 스키마

### 3.3 배포 아키텍처
시스템은 다음과 같은 환경으로 구성됩니다:

1. **개발 환경**: 개발자 로컬 머신, 통합 테스트 서버
2. **테스트 환경**: QA 테스트 서버 (N/A)
3. **운영 환경**: 실제 서비스 제공 서버

각 환경은 다음 구성요소로 이루어집니다:
- 웹 서버(Apache) + 애플리케이션 서버(Tomcat)
- 데이터베이스 서버(MySQL)

### 3.4 데이터 아키텍처
데이터 관리는 다음과 같은 전략을 따릅니다:

1. **데이터베이스 구조**:
   - 관계형 데이터베이스(MySQL)를 사용한 정규화된 스키마
   - 주요 테이블 그룹: 사용자 관리, 과정 관리, 콘텐츠 관리, 학습 활동, 평가 및 성적

2. **데이터 액세스 전략**:
   - DAO 패턴을 통한 데이터베이스 접근
   - 커넥션 풀링을 통한 데이터베이스 연결 관리

3. **데이터 백업 및 복구**:
   - 일일 전체 백업 및 증분 백업
   - 데이터베이스 복제를 통한 고가용성 확보

## 4. 컴포넌트 설계

### 4.1 핵심 컴포넌트
LMS의 핵심 컴포넌트와 기능은 다음과 같습니다:

#### 4.1.1 사용자 관리 모듈
- 사용자 등록 및 인증
- 역할 기반 접근 제어(RBAC)
- 사용자 프로필 관리
- 비밀번호 관리

#### 4.1.2 과정 관리 모듈
- 과정 생성 및 관리
- 교육 과정 일정 관리
- 학습 자료 업로드 및 관리
- 커리큘럼 구성

#### 4.1.3 학습 활동 모듈
- 학습 진행 상황 추적
- 과제 제출 및 관리
- 온라인 시험 및 퀴즈
- 토론 및 협업 활동

#### 4.1.4 평가 및 성적 모듈
- 평가 항목 설정
- 성적 집계 및 계산
- 피드백 관리
- 성적 보고서 생성

#### 4.1.5 커뮤니케이션 모듈
- 공지사항 및 게시판
- 메시징 시스템
- 알림 서비스
- 실시간 채팅(DWR 활용)

#### 4.1.6 관리 도구 모듈
- 시스템 설정 및 관리
- 보고서 및 통계
- 배치 작업 관리
- 로그 및 감사

### 4.2 컴포넌트 간 인터페이스
모듈 간 통신은 다음과 같은 방식으로 이루어집니다:

1. **서버 측 통신**:
   - 컴포넌트 간 직접 메서드 호출
   - 이벤트 리스너를 통한 이벤트 처리 (N/A)

2. **클라이언트-서버 통신**:
   - Struts Form 제출을 통한 동기식 통신
   - DWR을 통한 비동기식 AJAX 통신
   - RESTful 서비스를 통한 데이터 교환 (N/A)

### 4.3 외부 시스템 연동
다음과 같은 외부 시스템과의 연동이 필요합니다:

1. **학사 관리 시스템**: 학생 정보 및 과정 등록 정보 연동
2. **콘텐츠 저장소**: 대용량 학습 콘텐츠 저장 및 관리
3. **결제 시스템**: 유료 과정 결제 처리 (N/A)
4. **메일 서버**: 알림 및 공지사항 발송
5. **SSO(Single Sign-On) 시스템**: 통합 인증 (N/A)

## 5. 품질 속성

### 5.1 성능
- 페이지 로딩 시간: 평균 2초 이내 (N/A)
- 동시 사용자 처리: 최대 1,000명 (N/A)
- 데이터베이스 쿼리 응답 시간: 1초 이내 (N/A)
- 파일 업로드/다운로드 처리: 최대 100MB 파일, 광대역 네트워크에서 30초 이내 (N/A)

### 5.2 확장성
- 사용자 수 증가에 따른 수직적/수평적 확장 지원
- 모듈식 설계로 새로운 기능 추가 용이
- 다양한 학습 콘텐츠 형식 지원
- 사용자 정의 필드 및 워크플로우 지원
- **노후된 아키텍처여서 재개발이 시급하다**

### 5.3 보안
- 사용자 인증 및 권한 관리 (N/A)
- 데이터 암호화(비밀번호, 개인정보) (N/A)
- 세션 관리 및 CSRF 방어 (N/A)
- SQL 인젝션 방지 (N/A)
- 정기적인 보안 감사 및 패치 관리 (N/A)

### 5.4 가용성
- 시스템 가용성 목표: 99.5% (연간 다운타임 43.8시간 이내) (N/A)
- 계획된 유지보수 시간 제외 (N/A)
- 재해 복구 계획 및 백업 전략 (N/A)
- 장애 감지 및 알림 시스템 (N/A)

### 5.5 유지보수성
- 모듈화된 코드 구조 (N/A)
- 코드 표준 및 가이드라인 준수
- 통합 로깅 및 모니터링 (N/A)
- 문서화 및 코드 주석 (N/A)

## 6. 기술적 의사결정

### 6.1 주요 의사결정
다음과 같은 주요 기술적 의사결정이 이루어졌습니다:

#### 6.1.1 Struts 프레임워크 채택
- **결정**: MVC 구현을 위한 Struts 프레임워크 사용
- **이유**: 안정성, 커뮤니티 지원, 개발자 경험

#### 6.1.2 DWR 사용
- **결정**: 비동기 통신을 위한 DWR 채택
- **이유**: Java 객체와 JavaScript 간의 원활한 연동, AJAX 구현 용이성

#### 6.1.3 MySQL 데이터베이스 선택
- **결정**: 관계형 데이터베이스로 MySQL 사용
- **이유**: 성능, 안정성, 오픈소스, 개발자 친화적 특성

### 6.2 대안 및 평가
주요 의사결정 과정에서 검토된 대안과 평가 결과입니다:

#### 6.2.1 웹 프레임워크 선택
- **옵션 1**: Struts
- **옵션 2**: Spring MVC
- **결정**: Struts 채택
- **이유**: 기존 시스템과의 호환성, 개발자 숙련도, 빠른 개발 가능성

#### 6.2.2 프론트엔드 기술
- **옵션 1**: JSP + JavaScript
- **옵션 2**: JSP + jQuery + AJAX
- **결정**: JSP + JavaScript + DWR
- **이유**: 서버 사이드 렌더링 중심 설계, DWR을 통한 비동기 통신 구현

## 7. 제약사항 및 리스크

### 7.1 기술적 제약사항
- Java 1.8 이상 필요 (현재 17)
- Tomcat 8.5 이상 필요(현재 9)
- MySQL 5.7 이상 필요 (현재 5.1.73)
- 모던 웹 브라우저 지원 (IE11, Chrome, Firefox, Safari)
- 모바일 디바이스 화면 지원 제한적

### 7.2 비기술적 제약사항
- 개인정보보호법 준수 (N/A)
- 교육 관련 규정 준수 (N/A)
- 접근성 가이드라인 준수 (N/A)
- 다국어 지원 필요 (N/A)

### 7.3 식별된 리스크
- **기술 노후화 리스크**: Struts 프레임워크의 지원 중단 가능성
  - **대응**: 장기적으로 최신 프레임워크 마이그레이션 계획 수립
- **성능 리스크**: 대용량 파일 처리 시 성능 저하 가능성
  - **대응**: 콘텐츠 전송 최적화, CDN 활용 검토
- **보안 리스크**: 오래된 프레임워크의 보안 취약점
  - **대응**: 정기적인 보안 패치 적용, 보안 감사 시행

## 8. 부록

### 8.1 용어 사전
| 용어 | 정의 |
|------|------|
| LMS | Learning Management System의 약자로, 학습 활동 관리를 위한 소프트웨어 플랫폼 |
| Struts | Apache 재단의 오픈소스 MVC 웹 애플리케이션 프레임워크 |
| DWR | Direct Web Remoting의 약자로, Java와 JavaScript 간의 비동기 통신을 위한 라이브러리 |
| DAO | Data Access Object의 약자로, 데이터베이스 접근을 추상화하는 객체 |
| RBAC | Role-Based Access Control의 약자로, 역할 기반 접근 제어 방식 |

### 8.2 참고 자료
- Struts 프레임워크 공식 문서
- DWR 라이브러리 참조 문서
- MySQL 데이터베이스 가이드
- JSP 및 서블릿 프로그래밍 가이드
- 교육용 LMS 설계 모범 사례
